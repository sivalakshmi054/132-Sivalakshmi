<div class="container">
    <div class="row" >
        <div class="lds-ripple" id="chatLoaderPV" style="display: none;z-index:10000"><div></div><div></div></div>
        <div class="col-md-12">
            <p class="page-title nopadding">Manage Student</p>
        </div>
        <div class="col-md-12">
            <div class="panel panel-default" ng-init="StudentSaveToList()">
                <div class="panel-body">
                    <form class="form-horizontal" role="form">
                        <table cellpadding="0" cellspacing="0" border="0" width="100%" class="formControlGroup">
                            <tr>
                                    <td width="12%">
                                            <label>Academic Year
                                                    <font class='mandatory-field' style="color: red";>*</font>
                                            </label>
                                        </td>
                                        <td width="15%">
                                            <select ng-model="AcademicYearId" class="form-control" ng-required="true"  ng-change="AcademicYearBasedCourseFunction();">
                                                <option value="0">Select</option> 
                                                <option ng-repeat="sel in AcademicYearList" ng-selected="AcademicYearId==sel.id" value="{{sel.id}}">{{sel.academicyear}}</option>
                                            </select>
                                        </td>
                                        <td width="10%">
                                                <label>Course
                                                    <font class='mandatory-field' style="color: red";>*</font>
                                                </label>
                                            </td>
                                            <td width="15%">
                                                <select ng-model="CourseId" class="form-control" ng-required="true" ng-change="CourseBasedSectionFunction();SectionClearFunction();mediumlistforstudent()">
                                                    <option value="0">Select</option>
                                                    <!-- <option value="-1">Not Enrolled</option> -->
            
                                                    <option ng-repeat="sel in Filter_Courselist" ng-selected="CourseId==sel.id" value="{{sel.id}}">{{sel.course}}</option>
                                                </select>
                                            </td>
                                            <td width="10%">
                                                    <label>Medium
                                                        <font class='mandatory-field' style="color: red";>*</font>
                                                    </label>
                                                </td>
                                                <td width="15%">
                                                    <select ng-model="MediumId" class="form-control" ng-required="true">
                                                        <option value="">Select</option>
                                                        <option ng-repeat="sel in Mediumlist" ng-selected="MediumId==sel.id" value="{{sel.id}}">{{sel.mediumname}}</option>
                                                    </select>
                                                </td>
                            </tr>
                            <tr>
                                    
                                <td width="10%">
                                    <label>Section
                                        <font class='mandatory-field' style="color: red";>*</font>
                                    </label>
                                </td>
                                <td width="15%">
                                    <select ng-model="SectionId" class="form-control" ng-required="true">
                                        <option value="">Select</option>
                                        <option ng-repeat="sel in CourseBasedSectionList" ng-selected="SectionId==sel.id" value="{{sel.id}}">{{sel.sectionname}}</option>
                                    </select>
                                </td>
                                <td width="10%">
                                        <label>Roll Number</label>
                                    </td>
                                    <td width="10%">
                                        <input type="text" class="form-control search-input" ng-model="RollNumber" ng-init="RollNo" />
                                    </td>
                                <!-- <td width="10%">
                                    <label>Student Name</label>
                                </td>
                                <td width="15%">
                                    <input type="text" class="form-control search-input" ng-model="Name" ng-init="Name" />
                                </td> -->
                                <td width="10%">
                                    <button type="button" class="btn btn-small" ng-click="studentmasterlist()">Go</button>
                                </td>
                                <td></td>
                                <td witdth="40%"> </td>
                            </tr>
                        </table>
                    </form>
                </div>
            </div>
            <a ng-click="AddModal()" class="btn btn-autosize pull-right mb-15">Add New</a>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
                <!-- <div excel-export header-Data="headerData" filterdata="filterdata" export-data="exportData" header-title="HeaderTitle" schoolname="schoolname" address="address" loginuserId="loginuserId" class="btn btn-dril pull-right mb-15" file-name="{{fileName}}"></div> -->
            <table st-table="emptydata" style="width: 100%" st-safe-src="studentlist" class="table table-striped table-bordered">
                <thead>
                    <tr style="text-align: center">
                        <th st-ratio="5">#</th>
                        <!-- <th st-ratio="9">Academic Year</th> -->
                        <th st-ratio="8" st-sort="StudentId">Student Id</th>
                        <th st-ratio="11" st-sort="AdmissionNumber">Admission Number</th>
                        <th st-ratio="12" st-sort="RollNumber">Roll Number</th>
                        <th st-ratio="12" st-sort="StudentName">Student Name</th>
                        <th st-ratio="10" st-sort="Gender">Gender</th>
                        <th st-ratio="7" st-sort="Login">Login</th>
                        <th st-ratio="6" st-sort="Course">Course</th>
                        <th st-ratio="10" st-sort="SMobileNumber">Mobile Number</th>
                        <th st-ratio="10">Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-if="flag==0 && studentlist==0">
                        <td colspan="11" class="text-center">
                            No Records Found
                        </td>
                    </tr>
                    <tr ng-repeat="studentdetails in emptydata | filter:search">
                        <td style="text-align: right">{{((current_page-1)*page_size)+$index+1}}</td>
                        <!-- <td style="text-align: left">
                            {{studentdetails.AcademicYear}}
                         </td> -->
                        <td style="text-align: left">
                            {{studentdetails.studentid}}
                        </td>
                        <td style="text-align: left">
                          {{studentdetails.admissionnumber}}
                        </td>
                        <td style="text-align: left">
                           {{studentdetails.rollnumber}}
                        </td>
                        <td style="text-align: left">
                            <div class="textwrap">{{studentdetails.studentname}}</div>
                        </td>
                        <td style="text-align: left">{{studentdetails.gender}}</td>
                        <td style="text-align: left">{{studentdetails.login}}</td>
                        <td style="text-align: left">{{studentdetails.course}}</td>
                        <td style="text-align: left">{{studentdetails.smobilenumber}}</td>
                        <td style="text-align: center">
                            <a href="javascript:" ng-click="ViewModal(studentdetails.id)" title="View">
                                <img src="/img/ViewIcon.png" />
                            </a>
                            <a href="javascript:" ng-click="EditModal(studentdetails.id)" title="Edit">
                                <img src="/img/EditIcon.png"/>
                            </a>
                            <!-- <a href="javascript:" ng-click="AcademicStatusFunction()" title="Edit"><img src="/img/EditIcon.png" ng-if="studentdetails.AcademicStatus==1" /></a> -->
                            <!-- <a href="javascript:" ng-click="ErrorFunction()" title="Edit">
                                <img src="/img/EditIcon.png" ng-if="studentdetails.IsActive==0" />
                            </a>
                            <a href="javascript:" ng-click="InActive(studentdetails.Id)" title="Active">
                                <img src="/img/ActiveIcon.png" ng-if="studentdetails.IsActive==1" />
                            </a>
                            <a href="javascript:" ng-click="Active(studentdetails.Id)" title="Inactive">
                                <img src="/img/InActiveIcon.png" ng-if="studentdetails.IsActive==0" /> -->
                            <!-- </a>
                            <a href="javascript:" ng-click="LoginAddModal(studentdetails.Id)" title="Login">
                                <i class="fa fa-sign-in" aria-hidden="true"></i>
                            </a>
                            <a href="javascript:" ng-click="EnrollmentAddModal(studentdetails.Id); EnrollmentClearPopUp()" title="Enrollment">
                                <i class="fa fa-graduation-cap" aria-hidden="true"></i>
                            </a>
                            <a href="javascript:" ng-click="TransportAddModal(studentdetails.Id)" title="Transport">
                                <i class="fa fa-taxi" aria-hidden="true"></i>
                            </a> -->
                        </td>
                    </tr>
                </tbody>
                <tfoot ng-show="studentlist.length >10">
                    <tr>
                        <td colspan="10" class="text-center">
                            <items-page items-On-Page ="itemsOnPage" total-Items="studentlist.length"></items-page> items per page
                            <div st-items-by-page="itemsOnPage" st-page-change="rembemberCurrentPage(newPage)" st-pagination="" st-template="Views/Administration/pagination.custom.html"></div>
                            <!--<items-page items-On-Page ="itemsOnPage" total-Items="pagetotalSize"></items-page>-->
            
                        </td>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>
</div>


<!-- Add/Edit Modal -->
<div id="StudentLoginAddModal" class="modal fade" role="dialog">
    <div class="modal-dialog" style="width: 30%">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Create Login</h4>
            </div>
            <div class="modal-body">
                <form class="form-horizontal" role="form" style="font-size:small">
                    <table cellpadding="0" cellspacing="0" border="0" width="100%" class="formControlGroup">
                        <tr>
                            <td style="width: 20%">
                                <label>Student Name
                                    <font class='mandatory-field' style="color: red" ;>*</font>
                                </label>
                            </td>
                            <td>
                                    <!-- Build your select: -->
                                    <input type="text" class="form-control" id="Text2" ng-model="StudentName1" ng-init="StudentName1 =''" ng-maxlength="20" maxlength="20"
                                    ng-required="true">
                            </td>
                            <tr>
                                <td style="width: 20%">
                                    <label>Login Name
                                        <font class='mandatory-field' style="color: red" ;>*</font>
                                    </label>
                                </td>
                                <td style="width:30%">
                                    <input type="text" class="form-control" id="Text2" ng-model="LoginName" ng-init="LoginName =''" ng-maxlength="20" maxlength="20"
                                        ng-required="true">
                                </td>
                            </tr>

                    </table>
                </form>
            </div>
            <div class="modal-footer" style="text-align:center;">
                <button type="button" class="btn  btn-save" ng-click="StudentLogin_AddEdit()">Save</button>
                <button type="button" class="btn  btn-save" ng-click="ListCancelPopup()">Cancel</button>
            </div>
        </div>
    </div>
</div>



<!-- Enrollment Add/Edit Modal -->
<div id="StudentEnrollmentAddModal" class="modal fade" role="dialog">
    <div class="modal-dialog" style="width: 40%">
        <div class="modal-content">
            <div class="modal-header" >
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Student Enrollment</h4>
            </div>
            <div class="modal-body">
                <form class="form-horizontal" role="form" style="font-size:small">
                    <table cellpadding="0" cellspacing="0" border="0" width="100%" class="formControlGroup">
                        <tr>
                            <td style="width:20%">
                                <label>Academic Year <font class='mandatory-field' style="color: red" ;>*</font>
                                   
                                </label>
                            </td>
                            <!-- ng-change="AcademicyearBasedcouSecMed();EnrollmentCourseClearFunction()" -->
                            <td style="width:20%">
                                <select ng-model="Enrollment_AcademicYear" class="form-control" ng-required="true" ng-change="EnrollmentAcademicYearBasedCourseFunction()" >
                                    <option value="0">Select</option>
                                    <option ng-repeat="sel in AcademicYearList" ng-selected="Enrollment_AcademicYear==sel.id" value="{{sel.id}}">{{sel.academicyear}}</option>
                                </select>
                            </td>
                            <td  style="width:20%">
                                   <label>
                                       Course <font class='mandatory-field' style="color: red" ;>*</font>
                                   </label>
                                </td>
                               
                            <td style="width:20%">
                             
                                    <select ng-model="EnrollmentCourse" class="form-control" ng-required="true">

                                            <!-- ng-change="EnrollmentCourseBasedSection()" -->
                                        <option value="0">Select</option>
                                        <option ng-repeat="sel in Courselist" ng-selected="EnrollmentCourse==sel.id" value="{{sel.id}}">{{sel.course}}</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>                        
                            <td>
                                <label>Medium</label>
                            </td>
                            <td>
                                <select ng-model="EnrollmentMediumName" class="form-control" ng-required="true">
                                    <option value="0">Select</option>
                                    <option ng-repeat="sel in Mediumlist" ng-selected="EnrollmentMediumName==sel.id" value="{{sel.id}}">{{sel.mediumname}}</option>
                                </select>
                            </td>
                            
                            <td>
                                    <label>Section <font class='mandatory-field' style="color: red" ;>*</font>
                                       
                                    </label>
                                </td>
                            <td>
                                <select ng-model="EnrollmentSection" class="form-control" ng-required="true">
                                    <option value="0">Select</option>
                                    <option ng-repeat="sel in SectionList"
                                        ng-selected="EnrollmentSection==sel.id" value="{{sel.id}}">{{sel.sectionname}}</option>
                                </select>
                            </td>
                        </tr>
                        <!-- <tr>
                            <td>
                                <label>Category</label>
                            </td>
                            <td>
                                <select ng-model="EnrollmentCategory" class="form-control" ng-required="true">
                                    <option value="">Select</option>
                                    <option ng-repeat="sel in List" ng-selected="Category==sel.Id" value="{{sel.Id}}">{{sel.Category}}</option>
                                </select>
                            </td>
                        </tr> -->

                    </table>
                </form>
            </div>
            <div class="modal-footer" style="text-align:center;">
                <button type="button" class="btn  btn-save" ng-click="StudentEnrollment_AddEdit()">Save</button>
                <button type="button" class="btn  btn-save" ng-click="ListCancelPopup()">Cancel</button>
            </div>
        </div>
    </div>
</div>



<!-- Transport Add/Edit Modal -->
<div id="StudentTransportAddModal" class="modal fade" role="dialog">
    <div class="modal-dialog" style="width: 60%">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Student Transport Details</h4>
            </div>
            <div class="modal-body">
                <form class="form-horizontal" role="form" style="font-size:small">
                    <table cellpadding="0" cellspacing="0" border="0" width="100%" class="formControlGroup">
                        <tr>
                            <td style="width:10%">
                                <label>Transport
                                    <font class='mandatory-field' style="color: red" ;>*</font>
                                </label>
                            </td>
                            <td style="width: 20%">
                            <!-- <div class="cold-md-3 col-lg-3 col-sm-3 col-xs-3"> -->
                                <select class="form-control mb-10" ng-model="TransportId">
                                <option value="0">Select</option>
                                <option value="1">Yes</option> 
                                <option value="2">No</option>  
                            </select>
                            </td>
                            <td style="width: 10%">
                                    <label>RouteName
                                            <font class='mandatory-field' style="color: red" ;>*</font>
                                    </label>
                                </td>
                                <td style="width: 20%">
                                <select ng-model="RouteId" class="form-control" ng-change="RouteBasedVehicle();VehicleTypeClearfunction()"
                                ng-options="sel.id as sel.routename for sel in RouteList"  ng-disabled="TransportId==2">
                                    <option value="">Select</option>
                               </select>
                            </td>
                         
                          </tr>
                 
                        <tr >
                                <td >
                                        <label>VehicleType
                                                <font class='mandatory-field' style="color: red" ;>*</font>
                                        </label>
                                    </td>
                                   <td >
                                        <select ng-model="VehicleTypeId" class="form-control" ng-required="true" ng-change="VehicleNoClearfunction();VehicleTypeBasedVehicleNo()" ng-disabled="TransportId==2">
                                            <!-- VehicleTypeRegistration(); -->
                                         <option value="">Select</option>
                                         <option ng-repeat="sel in VehicleTypeList" ng-selected="VehicleTypeId==sel.id" value="{{sel.id}}" >{{sel.vehicletype}}</option>
                                     </select>                                   
                                     </td>
                                     <td>
                                            <label>VehicleNumber
                                                    <font class='mandatory-field' style="color: red" ;>*</font>
                                            </label>
                                        </td>
                                        <td>
                                  <select ng-model="RegistrationId" class="form-control" ng-required="true" ng-disabled="TransportId==2" ng-change="VehicleNumberBasedDetails();RouteBasedStopName();VehicleDetailsClearfunction()">
                                   
                                    <option value="">Select</option>
                                           <option ng-repeat="sel in Registrationlist" ng-selected="RegistrationId==sel.id" value="{{sel.id}}" >{{sel.registrationnumber}}</option>
                                            </select>  
                                        </td> 
                                </tr>
                                <tr>
                                <td>    
                                        <label>
                                            SeatingCapacity
                                        </label>
                                </td>
                                <td >
                                   {{ViewCapacity}}
                                </td>
                                <td>
                                    <label>RouteAmount</label>
                                </td>
                                <td >
                                    {{RouteAmount}}
                                </td>
                                </tr>
                                    <tr>                
                                        <td>
                                            <label>StopName
                                                <font class='mandatory-field' style="color: red" ;>*</font>
                                            </label>
                                        </td>
                                        <td >
                                            <select ng-model="StopNameId" class="form-control" ng-change="StopNamewithTimings()" 
                                                ng-options="sel.id as sel.stopname for sel in StopsList" ng-disabled="TransportId==2">
                                            <option value="">Select</option>
                                           </select>
                                        </td>
                                        <td >
                                            <label>StopAmount</label>
                                        </td>
                                        <td >
                                        <input type="text" class="form-control" id="Text2" ng-model="Amount" ng-init="Amount =''" ng-maxlength="20" maxlength="20"
                                            ng-required="true" ng-disabled="TransportId==2">
                                        </td>
                                    </tr>
                                <tr>
                                    <td>
                                            <label>
                                                StopPickUpTime
                                            </label>
                                        </td>
                                        <td>
                                            {{ViewPickupTime}}
                                        </td>
                           
                            <td >
                                <label>
                                    StopDropTime
                                </label>
                            </td>
                        <td >
                       {{ViewDropTime}}
                        </td>
                        </tr>
                    </table>
               
            </div>
            <div class="modal-footer" style="text-align:center;">
                <button type="button" class="btn  btn-save" ng-click="StudentTransport_AddEdit()">Save</button>
                <button type="button" class="btn  btn-save" ng-click="TranCancelPopup()">Cancel</button>
          
            </div>
        </form>
        </div>
        </div>
    </div>
</div>



