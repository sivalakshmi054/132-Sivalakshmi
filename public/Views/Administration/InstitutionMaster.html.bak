
<div class="container">
    <div class="row" >
        <div class="col-md-12">
            <p class="page-title nopadding">Institution Master</p>
        </div>
        <div class="col-md-12">
            <div class="panel panel-default" ng-init="Institution_list()">
                <div class="panel-body">
                    <form class="form-horizontal" role="form">
                        <table cellpadding="0" cellspacing="0" border="0" width="100%" class="formControlGroup">
                            <tr>
                                    <td width="12%">
                                            <label>Institution Name
                                                    <font class='mandatory-field' style="color: red";>*</font>
                                            </label>
                                        </td>
                                        <td width="15%">
                                            <input type="text" class="form-control" id="Text2" ng-model="Filter_InstitutionName" ng-init="MinLength=''"  ng-maxlength="100"maxlength="100"/>
                                        </td>
                                        <td width="10%">
                                                <label>Status</label>
                                            </td>
                                            <td width="15%">
                                                <select class="form-control" ng-model="IsActive">
                                                    <option value="">All</option>
                                                    <option value="1">Active</option>
                                                    <option value="0">InActive</option>
                                                  
                                                </select>
                                            </td>
                                            <td width="10%">
                                                <button type="button" class="btn btn-small" ng-click="Institution_list()">Go</button>
                                            </td>
                                            
                                                
                            </tr>
                        </table>
                    </form>
                </div>
            </div>
            <a ng-click="AddModal()" class="btn btn-autosize pull-right mb-15">Add New</a>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
                <!-- <div excel-export header-Data="headerData" filterdata="filterdata" export-data="exportData" header-title="HeaderTitle" schoolname="schoolname" address="address" loginuserId="loginuserId" class="btn btn-dril pull-right mb-15" file-name="{{fileName}}"></div> -->
            <table st-table="emptydata" style="width: 100%" st-safe-src="institutionmasterlist" 
            class="table table-striped table-bordered">
                <thead>
                    <tr style="text-align: center">
                        <th st-ratio="5">#</th>
                        <!-- <th st-ratio="9">Academic Year</th> -->
                        <th st-ratio="8" >Institution Name</th>
                        <th st-ratio="11" >Address</th>
                        <th st-ratio="12" >Mobile Number</th>
                        <th st-ratio="12" >Email Id</th>
                        <th st-ratio="10">Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-if="flag==0 && Institutionlist==0">
                        <td colspan="11" class="text-center">
                            No Records Found
                        </td>
                    </tr>
                    
                    <tr ng-repeat="row in Institutionlist ">
                        <td style="text-align: center">{{((current_page-1)*page_size)+$index+1}}</td>
                        <td style="text-align: left">
                            {{row.institutionprintname}}
                        </td>
                        <td style="text-align: left">
                          {{row.address1}}
                        </td>
                        <td style="text-align: left">
                           {{row.contactnumber}}
                        </td>
                        <td style="text-align: left">
                           {{row.email}}
                        </td>
                           
                        <td style="text-align: center">
                            <a href="javascript:" ng-click="ViewModal(row.id)" title="View">
                                <img src="/img/ViewIcon.png" />
                            </a>

                            <a href="javascript:" ng-click="row.is_active == 0 ||EditModal(row.id)" title="Edit">
                                <img src="/img/EditIcon.png" ng-if="row.is_active==1" />
                            </a>

                            <a href="javascript:" ng-click="ErrorFunction()" title="Edit">
                                <img src="/img/EditIcon.png" ng-if="row.is_active==0" />
                            </a>

                            <a href="javascript:" ng-click="InActive(row.id)" title="Active">
                                <img src="/img/ActiveIcon.png" ng-if="row.is_active==1" />
                            </a>

                            <a href="javascript:" ng-click="Active(row.Id)" title="Inactive">
                                <img src="/img/InActiveIcon.png" ng-if="row.is_active==0" />
                            </a>
                        </td>
                    </tr>
                </tbody>
                <tfoot ng-show="Institutionlist.length >10">
                    <tr>
                        <td colspan="10" class="text-center">
                            <items-page items-On-Page ="itemsOnPage" total-Items="Institutionlist.length"></items-page> items per page
                            <div st-items-by-page="itemsOnPage" st-page-change="rembemberCurrentPage(newPage)" st-pagination="" st-template="Views/Administration/pagination.custom.html"></div>
                            <!--<items-page items-On-Page ="itemsOnPage" total-Items="pagetotalSize"></items-page>-->
            
                        </td>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>
</div>


<div id="InstitutionAddModal" class="modal fade" role="dialog">
    <div class="modal-dialog" style="width: 65%">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Institution Master</h4>
            </div>
            <div class="modal-body">
                <form class="form-horizontal" role="form">
                    <div class="row">
                      
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">

                            <div class="panel panel-default" id="App">
                          
                                <div class="panel-body" >
                                    <form  class="form-horizontal" role="form">
                                            <table cellpadding="0" cellspacing="0" border="0" width="100%" class="formControlGroup">

                    
                                                   <tr>
                                                       <td width="15%">
                                                               <label> InstitutionName
                                                                   <font class='mandatory-field' style="color: red";>*</font></label>
                                                           <!-- <label>Minimum Length<font class='mandatory-field' style="color: red";>*</font></label> -->
                                                       </td>
                                                       <td width="20%">
                                                           <input type="text" class="form-control" id="Text2" ng-model="InstitutionName" ng-init="MinLength=''"  ng-maxlength="100"maxlength="100"/>
                                                       </td>
                                                       <td width="7%" valign="top" rowspan="6">
                                                            <label> Institution Logo</label>
                                                    </td>
                                                    <td valign="top" rowspan="6" width="70%">
                                                        <div class="col-4">
                                                            <div class="image-input image-input-outline" id="kt_image_4"
                                                                style="background-image: url({{CategoryImage}})">
                                                                <div class="image-input-wrapper"></div>
                                                                <label
                                                                    class="btn btn-xs btn-icon btn-circle btn-white btn-hover-text-primary btn-shadow"
                                                                    data-action="change" data-toggle="tooltip" title=""
                                                                    data-original-title="Change avatar">
                                                                    <i class="fa fa-pen icon-sm text-muted" ></i>
                                
                                                                    <input type="file" id="SchoolLogo" fileread="SchoolLogoread" onchange="angular.element(this).scope().photoChange(this)" name="FileName"
                                                                    title=" " style="height:0px !important" accept="image/x-png,image/gif,image/jpeg"/>     
                                                                    <input type="hidden" name="profile_avatar_remove" />
                                                                </label>
                                                                <span class="btn btn-xs btn-icon btn-circle btn-white btn-hover-text-primary btn-shadow"
                                                                    data-action="cancel" data-toggle="tooltip" title="Cancel avatar">
                                                                    <i class="ki ki-bold-close icon-xs text-muted"></i>
                                                                </span>
                                
                                                                <span class="btn btn-xs btn-icon btn-circle btn-white btn-hover-text-primary btn-shadow"
                                                                    data-action="remove" data-toggle="tooltip" title="Remove avatar">
                                                                    <i class="ki ki-bold-close icon-xs text-muted" ng-click="fileclear()"></i>
                                                                </span>
                                                            </div>
                                                        </div> 
                                                    <div>
                                                                         
                                                   
                                                    <span id='btnLogo' class="fa fa-arrow-circle-o-up" style="font-size: 20px;"></span>                                
                                                </div>                           
                                                   
                                                    <div ng-if="(ViewGender| lowercase)=='male' && (SchoolLogoread=='/Uploads/null' || SchoolLogoread == null)">
                                                            <img src="/img/institution_logo.png" width="180" height="180"/>
                                                            
                                                       </div>                         
                                                                      
                                                     <div ng-if="SchoolLogoread!='/Uploads/null'"
                                                     ng-show="SchoolLogoread!=''">                               
                                                         <img src="{{SchoolLogoread}}" width="180" height="180" class="mtb-7 com_img" />  
                                                         <a href="javascript:" ng-click="imageclear()">
                                                            <u>Clear</u>
                                                        </a>
                                                     </div>                         
                                                         &nbsp &nbsp  &nbsp                                  
                                                    <!-- <img src="/img/clearclr.png" style="width: 17px;" ng-click="imageclear() "title="clear" /> -->
                                                </td>                      
                                                </tr>
                                                   
                                                   <tr>
                                                       <td>
                                                           <label> InstitutionPrintName</label>
                                                           <!-- <label>Maximum Length<font class='mandatory-field' style="color: red";>*</font></label> -->
                                                       </td>
                                                       <td>
                                                           <input type="text" class="form-control" id="Text3" ng-model="InstitutionPrintName" ng-init="MaxLength=''" ng-maxlength="100" maxlength="100"/>
                                                       </td>
                                                   </tr>
                                                 
                                                <tr>
                                                    <td>
                                                  
                                                        <label> Address1<font></font> </font></label>
                                                    </td>
                    
                                                    <td >
                                                            <input type="text" class="form-control" id="Textarea2" ng-model="Address1" ng-init="Address1=''" placeholder="" ng-maxlength="100"
                                                                maxlength="100" />
                                                      </td>
                                                </tr>
                                                <tr>
                                                        <td>
                                                      
                                                            <label>Address2<font ></font></label>
                                                        </td>
                    
                                                        <td >
                                                                <input type="text" class="form-control" id="Textarea2" ng-model="Address2" ng-init="Address2=''" placeholder="" ng-maxlength="100"
                                                                    maxlength="100" />
                                                          </td>
                                                    </tr>   
                                                    <tr> 
                                                        <!-- {{CountryName}} -->
                                                            <td>
                                                                <label>Country</label>
                                                            </td>
                                                            <td>
                                                                <select ng-model="CountryName" ng-required="true" class="form-control" ng-change="ClearListfunction()">
                                                                   
                                                                    <option value="">Select</option>
                                                                    <option ng-repeat="sel in CountryList" ng-selected="CountryName==sel.id" value="{{sel.id}}">{{sel.countryname}}</option>
                                                                </select>
                                                            </td>
                                                          
                                                        </tr> 
                                                            <tr>
                                                               
                                                                <td>
                                                                    <label>State</label>
                                                                </td>
                                                                <td>
                                                                    <select ng-model="StateName" ng-required="true" class="form-control" ng-change="Clearstatefunction()">
                                                                        <option value="">Select</option>
                                                                        <option ng-repeat="sel in StateList  | filter:{ CountryId:CountryName }" ng-selected="StateName==sel.id" value="{{sel.id}}">{{sel.statename}}</option>
                                                                    </select>
                                                                </td>
                                
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <label>Location</label>
                                                                </td>
                                                                <td>
                                                                    <select ng-model="LocationName" ng-required="true" class="form-control">
                                                                        <option value="">Select</option>
                                                                        <option ng-repeat="sel in LocationList  | filter : {StateId : StateName}" ng-selected="LocationName==sel.id" value="{{sel.id}}">{{sel.locationname}}</option>
                                                                    </select>
                                                                </td>
                                                              
                                                            </tr>
                            
                                                        <tr>
                                                                 <td >
                                                                    <label> Pincode</label>
                                                                </td>
                                                                <td >
                                                                    <input type="text" class="form-control" id="Textarea2" ng-model="Pincode" ng-init="PinCode=''" 
                                                                    placeholder="" ng-maxlength="20" maxlength="20"  onkeypress="OnlySpecCharNum(this.Pincode)"/>
                                                                </td>
                                                         </tr>
                                                        <tr>
                                                             <td>
                                                                   <label>Contact Number</label>
                                                                    <!-- <label>Atleast one Special Character</label> -->
                                                           </td>
                                                           <td >
                                                                <input type="text" class="form-control" id="Textarea2" ng-model="ContactNumber" ng-init="ContactNumber=''" 
                                                                placeholder="" ng-maxlength="20" maxlength="20" onkeypress="OnlySpecCharNum(this.ContactNumber)"/>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                                <td>
                                                                      <label>Mobile Number</label>
                                                                       <!-- <label>Atleast one Special Character</label> -->
                                                              </td>
                                                              <td >
                                                                   <input type="text" class="form-control" id="Textarea2" ng-model="MobileNumber" ng-init="MobileNumber=''" 
                                                                   placeholder="" ng-maxlength="20" maxlength="20" onkeypress="OnlySpecCharNum(this.MobileNumber)"/>
                                                               </td>
                                                           </tr>
                                                   <tr>
                                                       <TR>
                                                           <td>
                                                               <label>
                                                                From Month
                                                               </label>
                                                           </td>
                                                           <td>
                                                                <select ng-model="FromMonthId" ng-required="true" class="form-control">
                                                                    <option value="">Select</option>
                                                                        <option value="1">January</option>
                                                                        <option value="2">Febrary</option>
                                                                        <option value="3">March</option>
                                                                        <option value="4">April</option>
                                                                        <option value="5">May</option>
                                                                        <option value="6">June</option>
                                                                        <option value="7">July</option>
                                                                        <option value="8">Auguest</option>
                                                                        <option value="9">September</option>
                                                                        <option value="10">Octomber</option>
                                                                        <option value="11">November</option>
                                                                        <option value="12">December</option>
                                                                        <!-- <option ng-repeat="sel in MonthList" 
                                                                        ng-selected="FromMonthId==sel.Id" value="{{sel.Id}}">{{sel.Month}}</option> -->
                                                                    </select>
                                                           </td>
                                                       </TR>
                                                       <TR>
                                                            <td>
                                                                <label>
                                                                  ToMonth
                                                                </label>
                                                            </td>
                                                            <td>
                                                                <select ng-model="ToMonthId" ng-required="true" class="form-control">
                                                                    <option value="">Select</option>
                                                                        <option value="1">January</option>
                                                                        <option value="2">Febrary</option>
                                                                        <option value="3">March</option>
                                                                        <option value="4">April</option>
                                                                        <option value="5">May</option>
                                                                        <option value="6">June</option>
                                                                        <option value="7">July</option>
                                                                        <option value="8">Auguest</option>
                                                                        <option value="9">September</option>
                                                                        <option value="10">Octomber</option>
                                                                        <option value="11">November</option>
                                                                        <option value="12">December</option>
                                                                        <!-- <option ng-repeat="sel in MonthList" 
                                                                        ng-selected="FromMonthId==sel.Id" value="{{sel.Id}}">{{sel.Month}}</option> -->
                                                                    </select>
                                                            </td>
                                                        </TR>
                                                       <td>
                                                               <label>Fax Number</label>
                                                           <!-- <label>Character not allowed</label> -->
                                                       </td>
                                                       
                                                       <td >
                                                            <input type="text" class="form-control" id="Textarea2" ng-model="FaxNumber" ng-init="FaxNumber=''" 
                                                            placeholder="" ng-maxlength="20" maxlength="20" onkeypress="OnlySpecCharNum(this.FaxNumber)"/>
                                                        </td>
                                                       
                                                   </tr>
                                                   <tr>
                                                       <td>
                                                               <label>Email<font></font></label>
                                                       </td>
                                                       <td >
                                                            <input type="text" class="form-control" ng-model="Email" ng-init="Email=''" ng-maxlength="50" maxlength="50"
                                                                            ng-required="true" />
                                                    </td>
                                               </tr>
                                               <tr>
                                                       <td>
                                                               <label>Website</label>
                                                           <!-- <label>Days</label> -->
                                                       </td>
                                                       <td>
                                                            <input type="text" class="form-control" id="Website" name="Website" ng-model="Website" ng-init="Website=''" 
                                                           ng-maxlength="50" maxlength="50" ng-required="true"/>
                                                    </td>
                                             </tr>
                                               
                                          
                                               </table>
                                    </form>
                                </div>
                               </div>
                </div>
                <div style="text-align: center;">
                        <button type="button" class="btn  btn-save" title="Click to Save the Records"  ng-click="IntitutionMasterAddEdit()">Save</button>
                        <button type="button" class="btn btn-save" title="Click to Reset the Records"  ng-click="CancelPopup()">Cancel</button>
                   </div>
            </div>
                </form>
            </div>

    


</div>
</div>
</div>
<div id="InstitutionViewModal" class="modal fade" role="dialog">
    <div class="modal-dialog" style="width: 65%">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Institution Master</h4>
            </div>
            <div class="modal-body">
                <form class="form-horizontal" role="form">
                    <div class="row">
                      
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">

                            <div class="panel panel-default" id="App">
                          
                                <div class="panel-body" >
                                    <form  class="form-horizontal" role="form">
                                            <table cellpadding="0" cellspacing="0" border="0" width="100%" class="formControlGroup">

                    
                                                   <tr>
                                                       <td width="15%">
                                                               <label> InstitutionName
                                                                   <font class='mandatory-field' style="color: red";>*</font></label>
                                                           <!-- <label>Minimum Length<font class='mandatory-field' style="color: red";>*</font></label> -->
                                                       </td>
                                                       <td width="20%">
                                                           {{institutionname}}
                                                       </td>
                                                       <td width="7%" valign="top" rowspan="6">
                                                            <label> Institution Logo</label>
                                                    </td>
                                                    <td rowspan="6">
    
                                                        <span> <img src="{{SchoolLogoread}}" width="120" height="150" class="mtb-7"
                                                                ng-if="SchoolLogoread!='/storage/null'" /><img src="/img/NoPhoto.jpg"
                                                                ng-if="SchoolLogoread=='/storage/null'" /></span>
                                                    </td>                
                                                </tr>
                                                   
                                                   <tr>
                                                       <td>
                                                           <label> InstitutionPrintName</label>
                                                           <!-- <label>Maximum Length<font class='mandatory-field' style="color: red";>*</font></label> -->
                                                       </td>
                                                       <td>
                                                          {{institutionprintname}}
                                                       </td>
                                                   </tr>
                                                 
                                                <tr>
                                                    <td>
                                                  
                                                        <label> Address1<font></font> </font></label>
                                                    </td>
                    
                                                    <td >
                                                         {{address1}}
                                                      </td>
                                                </tr>
                                                <tr>
                                                        <td>
                                                      
                                                            <label>Address2<font ></font></label>
                                                        </td>
                    
                                                        <td >
                                                               {{address2}}
                                                          </td>
                                                    </tr>   
                                                    <tr> 
                                                        <!-- {{CountryName}} -->
                                                            <td>
                                                                <label>Country</label>
                                                            </td>
                                                            <td>
                                                                {{viewcountryname}}
                                                            </td>
                                                          
                                                        </tr> 
                                                            <tr>
                                                               
                                                                <td>
                                                                    <label>State</label>
                                                                </td>
                                                                <td>
                                                                    {{viewstatename}}
                                                                </td>
                                
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <label>Location</label>
                                                                </td>
                                                                <td>
                                                                {{viewlocationname}}
                                                                </td>
                                                              
                                                            </tr>
                            
                                                        <tr>
                                                                 <td >
                                                                    <label> Pincode</label>
                                                                </td>
                                                                <td >
                                                                   {{pincode}}
                                                                </td>
                                                         </tr>
                                                        <tr>
                                                             <td>
                                                                   <label>Contact Number</label>
                                                                    <!-- <label>Atleast one Special Character</label> -->
                                                           </td>
                                                           <td >
                                                              {{contactnumber}}
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                                <td>
                                                                      <label>Mobile Number</label>
                                                                       <!-- <label>Atleast one Special Character</label> -->
                                                              </td>
                                                              <td >
                                                                 {{mobilenumber}}
                                                               </td>
                                                           </tr>
                                                   <tr>
                                                       <TR>
                                                           <td>
                                                               <label>
                                                                FromMonth
                                                               </label>
                                                           </td>
                                                           <td>
                                                            {{frommonthid}}
                                                       </td>
                                                       </TR>
                                                       <TR>
                                                            <td>
                                                                <label>
                                                                  ToMonth
                                                                </label>
                                                            </td>
                                                            <td>
                                                                {{tomonthid}}
                                                             </td>
                                                        </TR>
                                                       <td>
                                                               <label>FaxNumber</label>
                                                           <!-- <label>Character not allowed</label> -->
                                                       </td>
                                                       
                                                       <td >
                                                           {{faxnumber}}
                                                        </td>
                                                       
                                                   </tr>
                                                   <tr>
                                                       <td>
                                                               <label>Email<font></font></label>
                                                       </td>
                                                       <td >
                                                          {{email}}
                                                    </td>
                                               </tr>
                                               <tr>
                                                       <td>
                                                               <label>Website</label>
                                                           <!-- <label>Days</label> -->
                                                       </td>
                                                       <td>
                                                            {{website}}
                                                    </td>
                                             </tr>
                                               
                                          
                                               </table>
                                    </form>
                                </div>
                               </div>
                </div>
                <div style="text-align: center;">
                        <button type="button" class="btn  btn-save" title="Click to Save the Records"  ng-click="IntitutionMasterAddEdit()">Save</button>
                  
 
                        <button type="button" class="btn btn-save" title="Click to Reset the Records"  ng-click="CancelPopup()">Cancel</button>
                   </div>
            </div>
                </form>
            </div>

    


</div>
</div>
</div>
    <style type="text/css">
        input[type='file'] {
            opacity: 0;
        }
        </style>
          <script>
            
            $('#DocumentLogo').click(function () {
                $("#DocumentID").trigger('click');
            })
            
            $('#btnLogo').click(function () {
                $("#SchoolLogo").trigger('click');
            })
          
        
            //Photo upload
            function readURL(input) {
                if (input.files && input.files[0]) {
                    var reader = new FileReader();
        
                    reader.onload = function (e) {
                        $('#blah')
                            .attr('src', e.target.result)
                            .width(150)
                            .height(200);
                    };
                    reader.readAsDataURL(input.files[0]);
                }
            }
        </script>