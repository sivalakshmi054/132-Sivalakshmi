<div class="container">
        <div class="row" ng-init="AcademicYearBasedCourseFunction();CourseBasedSectionFunction();CourseBasedExamNameFunction();ExamBasedSubject()" >
            <div class="lds-ripple" id="chatLoaderPV" style="display: none;z-index:10000"><div></div><div></div></div>
            <div class="col-md-12">
                <!-- <p class="page-title nopadding" ng-show="listPage!=2">{{CommonTransaction_Title}}</p>
                <p class="page-title nopadding" ng-show="listPage==2">Examwise Mark Entry</p> -->
            </div>
            <div class="col-md-12">
                    <div><p class="page-title" ng-show="listPage==3">Internal Examination Marks Entry</p></div>
                    <div><p class="page-title" ng-show="listPage==1">Practical Examination Marks Entry</p></div>
                    <div><p class="page-title" ng-show="listPage==2">Examwise Mark Entry</p></div>
                      <div class="panel panel-default" id="tableid">  
                <div class="panel panel-default">
                    <div class="panel-body">
                        <form class="form-horizontal" role="form">
                            <table cellpadding="0" cellspacing="0" border="0" width="100%" class="formControlGroup">
                                    <tr> 
                                        <td width="16%">
                                                    <label>Academic Year<font class='mandatory-field' style="color: red";>*</font></label>
                                                </td>
                                                <td width="16%">
                                                    <select ng-model="AcademicYearId" class="form-control" ng-required="true" style="width:190px;" ng-change="AcademicYearBasedCourseFunction();CourseClearFunction()">
                                                        <option value="">Select</option>
                                                        <option ng-repeat="sel in AcademicYearList" 
                                                        ng-selected="AcademicYearId==sel.id" 
                                                        value="{{sel.id}}">{{sel.academicyear}}</option>
                                                    </select>   
                                                </td>
                                                <td width="16%">
                                                        <label>Course<font class='mandatory-field' style="color: red";>*</font></label>
                                                    </td>
                                                    <td width="16%">
                                                        <select ng-model="CourseId" class="form-control" ng-required="true" 
                                                        ng-change="CourseBasedSectionFunction();CourseBasedExamNameFunction();ExamNameClearFunction()">
                                                            <option value="0">Select</option>
                                                            <option ng-repeat="sel in Courselist" 
                                                            ng-selected="CourseId==sel.id" 
                                                            value="{{sel.id}}">{{sel.course}}</option>
                                                        </select>     
                                                    </td>
                                                    <td width="16%">
                                                                    <label>
                                                                            Exam Name<font class='mandatory-field' style="color: red";>*</font></label>
                                                                </td>
                                                                <td width="16%">
                                                                    <select ng-model="ExamNameId"  class="form-control" ng-required="true" style="width:190px;" ng-change="ExamBasedSubject();SubjectClearfunction()">
                                                                        <option value="0">Select</option>
                                                                        <!-- <option ng-if="CourseId>0" ng-repeat="sel in CourseExamList  | filter:{ CourseId:CourseId }" ng-selected="ExamNameId==sel.Id" value="{{sel.Id}}">{{sel.ExamName}}</option> -->
                                                                        <option ng-repeat="sel in ExamNameList" 
                                                                        ng-selected="ExamNameId==sel.id"
                                                                        value="{{sel.examnameid}}">{{sel.examname}}</option>
                                                                    </select>    
                                                                </td>
                                                    <!-- <td width="16%">
                                                        <label>Medium<font class='mandatory-field' style="color: red";>*</font></label>
                                                        </td>
                                                        <td width="16%">
                                                            <select ng-model="MediumId"  class="form-control" ng-required="true" style="width:190px;">
                                                                <option value="">Select</option>
                                                                <option ng-repeat="sel in Mediumlist" 
                                                                ng-selected="MediumId==sel.Id" 
                                                                value="{{sel.Id}}">{{sel.MediumName}}</option>
                                                            </select>  
                                                        </td> -->
                                                    </tr>
                                                    <tr> 
                                                         <td width="16%">
                                                                    <label>
                                                                            Exam Center</label>
                                                                </td>
                                                              
                                                                <td width="16%">
                                                                    <select ng-model="CenterId" class="form-control" ng-required="true" style="width:190px;">
                                                                        <option value="0">Select</option>
                                                                        <option ng-repeat="sel in ExamCentre_List" 
                                                                        ng-selected="CenterId == sel.id" 
                                                                        value="{{sel.id}}">{{sel.center_name}}</option>
                                                                    </select>
                                                                </td>
                                                            <td width="16%">
                                                                    <label>
                                                                            Institution</label>
                                                                </td>
                                                                <td width="16%">
                                                                    <select ng-model="FilterInstitutionId"  class="form-control" ng-required="true" style="width:190px;" ng-change="ExamBasedSubject();SubjectClearfunction()">
                                                                        <option value="0">Select</option>
                                                                        
                                                                        <option ng-repeat="sel in Institution_List" 
                                                                        ng-selected="FilterInstitutionId==sel.id"
                                                                        value="{{sel.id}}">{{sel.institutionname}}</option>
                                                                    </select>    
                                                                </td> 
                                                             <!-- <td ng-hide="listPage==3" width="16%">
                                                                        <label>
                                                                            Subject Name<font class='mandatory-field' style="color: red";>*</font></label>
                                                                    </td>
                                                                    <td width="16%" ng-hide="listPage==2">
                                                                        <select ng-model="SubjectNameId" class="form-control" ng-required="true">
                                                                            <option value="0">Select</option>
                                                                            <option ng-repeat="sel in List_SubjectList| filter:{SubjectParentId:0}" 
                                                                            ng-selected="SubjectNameId==sel.Id" 
                                                                            value="{{sel.Id}}">{{sel.SubjectName}}</option>
                                                                        </select>
                                                                    </td>  -->
                                                                  <!-- <td width="12%" ng-show="listPage==1">
                                                                            <label>
                                                                                    SubjectName</label>
                                                                        </td>
                                                                        <td width="20%" ng-show="listPage==1">
                                                                           <select ng-model="SubjectNameId" class="form-control" ng-required="true">
                                                                                <option value="0">Select</option>
                                                                                <option ng-repeat="sel in SubjectList| filter:{SubjectParentId:0}" ng-selected="SubjectNameId==sel.Id" value="{{sel.Id}}">{{sel.SubjectName}}</option>
                                                                            </select>   
                                                                        </td> -->
                                                                
                                    <td >
                                        <button type="button" class="btn btn-small"  title="Click to List the Records" ng-click="examlistsearch(listPage)">Go</button>
                                    </td>
                                </tr> 
                            </table>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        </div>
        <!-- <div class="row">
            <div class="col-md-12 col-lg-12">               
                <div class="panel-body">
                    <form class="form-horizontal" role="form">
                    <table cellpadding="0" cellspacing="0" border="0" width="100%" class="formControlGroup">
                        <tr>
                           
                            <td  width="5%" >
                                <label>
                                    Total Marks :</label>                           
                                    {{View_Total}}
                                </td>
                            </td> 
                            <td  width="5%" >
                                <label>
                                    PassMark  : </label>                            
                                    {{View_Pass}}
                            </td>    
                        </tr>                 
                    </table>
                    </form>
                </div>
               
            </div>
         </div>  -->
        <div class="row">
            <div class="col-md-12">
                   
                <table st-table="emptydata" style="width: 100%" st-safe-src="StudentMasterList" class="table table-striped table-bordered">
                    <thead>
                        <tr style="text-align: center">
                            <!-- <th st-ratio="5" ng-hide="listPage==2">
                                <input type="checkbox"  id="CheckAll" ng-model="master" ng-click="isSelectAll()"/>
                            </th>
                            <th st-ratio="5" ng-show="listPage==2">
                                    <input type="checkbox"  id="CheckAll" ng-model="master" ng-click="isSelectAll1()"/>
                                </th> -->
                                <th st-ratio="5">#</th>
                            <th st-ratio="10" st-sort="StudentId">
                                    Student Id</th>
                            <th st-ratio="15" st-sort="SubjectName">
                                    Enrollment No</th>
                            <th st-ratio="15" st-sort="StudentName">
                                    Student Name</th>
                               <th ng-if="SubjectNameId==0">
                                        <table style="width:100%;table-layout: fixed;">
                                                <tr>                                 
                                                    <td ng-repeat="rows in (SubjectList | orderBy : 'subjectid')"
                                                    ng-show="((SubjectList  | filter:{ subjectparentid:rows.id }:true).length)==0" style="width: 33%" >
                                                                                                    
                                                            {{rows.subjectname}}<br>
                                                            (MM = {{rows.total}})
                                                    </td>
                                                </tr>
                                                
                                                    Marks Obtained
                                            </table> 
                                    </th>
                            <!-- <th st-ratio="10" ng-if="SubjectNameId>0">
                                    Attendance</th> -->
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-if="StudentMasterList.length==0">
                            <td colspan="10" class="text-center">
                                No Records Found
                            </td>
                        </tr>
                      
                      
                        <tr ng-repeat="row in emptydata">   
                                <td style="text-align: center"  ng-model="row.selectedstudent" ng-init="row.selectedstudent=true"  ng-click="checkParentSubjectSelected(row.studentid, row.subjectid, row.selectedstudent, row)">
                                        {{((current_page-1)*page_size)+$index+1}}
                                </td>                      
                                <td style="text-align: left">{{row.studentid}}</td>
                                <td style="text-align: left" >{{row.enrollmentnumber}}</td>
                                <td style="text-align: left">{{row.studentname}}</td>
                                <td style="text-align: right">                                                                                         
                                    <table>                                    
                                        <tr>     
                                            <td ng-repeat="rows in (StudentList | orderBy : 'subjectid')  | filter:{ studentid:row.id}:true ">
                                                <input type="text" ng-disabled="rows.issubmitted == 1" style="text-transform:uppercase;" id="text14" class="form-control"  ng-model="rows.marksobtained" 
                                                ng-change="checkMarkEntered(rows.total, rows)" ng-maxlength="5" maxlength="5"   >
                                            </td>  
                                        </tr>
                                    </table>                                
                                </td>                           
                        </tr>
                    </tbody>
                    <tfoot ng-show="StudentMasterList.length >50">
                        <tr>
                            <td colspan="50" class="text-center">
                                <items-page items-On-Page ="50" total-Items="StudentMasterList.length"></items-page> items per page
                                <div st-items-by-page="50" st-page-change="rembemberCurrentPage(newPage)" st-pagination="" st-template="Views/Administration/pagination.custom.html"></div>
                            </td>
                        </tr>
                    </tfoot>
                </table>
                <div style="text-align: center;">
                        <a ng-click="ExaminationMarks_AddEdit()" title="Click to Save the Records"  class="btn btn-save">Save</a>
                     
                    </div> 
            </div>
        </div>
    </div>
    
    
    <!-- Examination Marks View Modal -->
    <div id="ExaminationMarksViewModal" class="modal fade" role="dialog">
            <div class="modal-dialog" style="width:60%">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Examination Marks Details</h4>
                    </div>
                    <div class="modal-body">
                        <form class="form-horizontal" role="form" style="font-size:small">
                            <table cellpadding="0" cellspacing="0" border="0" width="100%" class="formControlGroup">
                                <tr>
                                 <td>
                                  <label>Gender</label>
                                   </td>
                                   <td style="width:30%">
                                        <span>{{ViewGender}}</span>                                   
                                    </td> 
                                    <td style="width: 20%">
                                        <label>Total</label>
                                    </td>
                                    <td style="width:30%">
                                    <span>{{Total}}</span>                                  
                                    </td> 
                                </tr>
                                <tr>                       
                                    <td style="width: 20%">
                                        <label>PassMark</label>
                                    </td>
                                    <td style="width:30%">
                                    <span>{{Pass}}</span>
                                    </td>
                                    <td style="width: 20%">
                                        <label>Course</label>
                                    </td>
                                    <td style="width:30%">
                                    <span>{{ViewCourse}}</span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                     <label>Subject</label>
                                      </td>
                                      <td style="width:30%">
                                           <span>{{SubjectName}}</span>                                   
                                       </td> 
                                       
                            </table>
                        </form>
                    </div>
                    <div class="modal-footer" style="text-align:center;">
                        
                        <button type="button" class="btn  btn-save" ng-click="CancelPopup()">Cancel</button>
                    </div>
                </div>
            </div>
        </div>
    
    
    
        <div id="ExaminationMarkEditModal" class="modal fade" role="dialog">
                <div class="modal-dialog" style="width:30%">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">Question Bank Details</h4>
                        </div>
                        <div class="modal-body">
                            <form class="form-horizontal" role="form" style="font-size:small">
                                <table cellpadding="0" cellspacing="0" border="0" width="100%" class="formControlGroup">
                                        <tr>
                                            <td>
                                                
                                                <label>MarksObtained</label>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control" ng-model="MarksObtained">
                                            </td>
                                            </tr>
                                </table>
                            </form>
                        </div>
                        <div class="modal-footer" style="text-align:center;">
                            <button type="button" class="btn  btn-save" ng-click="QuestionBank_AddEdit()">Save</button>
                            <button type="button" class="btn  btn-save" ng-click="CancelPopup()">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>
           
           <script>
            $(document).ready(function () {     
                $("#radio_1").attr('checked', 'checked');  
             });
    
             $('#CheckAll').click(function () {
               ($(this).is(":checked") ? $('.checkboxes').prop("checked", true): $('.checkboxes').prop("checked", false))
                   });
    
       </script>
      


